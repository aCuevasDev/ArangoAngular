<app-spinner *ngIf="isLoading" ></app-spinner>

<div id="margins" class="custom-mat-elevation-z8" *ngIf="!isLoading">
    <table *ngIf="!isLoading" mat-table [dataSource]="dataSource" matSort>

        <ng-container [matColumnDef]="displayedColumns[0]">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>{{displayedColumns[0]}}</th>
            <td mat-cell *matCellDef="let tableData"> {{tableData[displayedColumns[0].toLowerCase()]}}</td>
        </ng-container>

        <ng-container [matColumnDef]="displayedColumns[1]">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>{{displayedColumns[1]}}</th>
            <td mat-cell *matCellDef="let tableData"> {{tableData[displayedColumns[1].toLowerCase()]}}</td>
        </ng-container>

        <ng-container [matColumnDef]="displayedColumns[2]">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>{{displayedColumns[2]}}</th>
            <td mat-cell *matCellDef="let tableData"> {{tableData[displayedColumns[2].toLowerCase()]}}</td>
        </ng-container>

        <ng-container [matColumnDef]="displayedColumns[3]">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>{{displayedColumns[3]}}</th>
            <td mat-cell *matCellDef="let tableData"> {{tableData[displayedColumns[3].toLowerCase()]}}</td>
        </ng-container>

        <ng-container [matColumnDef]="displayedColumns[4]">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>{{displayedColumns[4]}}</th>
            <td mat-cell *matCellDef="let tableData"> {{tableData[displayedColumns[4].toLowerCase()]}}</td>
        </ng-container>

        <ng-container [matColumnDef]="displayedColumns[5]">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>{{displayedColumns[5]}}</th>
            <td mat-cell *matCellDef="let tableData"> {{tableData[displayedColumns[5].toLowerCase()]}}</td>
        </ng-container>

        <ng-container matColumnDef="edit">
            <th mat-header-cell *matHeaderCellDef>
                <i class="material-icons">
                    edit
                </i>
            </th>
            <td mat-cell *matCellDef="let tableData; let rowIndex = index">
                <button mat-button type="button" [@mouseState]="mouseState[0][rowIndex]" (mouseenter)="toggleMouseState(0, rowIndex)"
                    (mouseleave)="toggleMouseState(0, rowIndex)" (click)="edit(tableData)">Editar</button>
            </td>
        </ng-container>

        <ng-container matColumnDef="delete">
            <th mat-header-cell *matHeaderCellDef>
                <i class="material-icons">
                    delete
                </i>
            </th>
            <td mat-cell *matCellDef="let tableData; let rowIndex = index">
                <button mat-button type="button" [@mouseState]="mouseState[1][rowIndex]" (mouseenter)="toggleMouseState(1, rowIndex)"
                    (mouseleave)="toggleMouseState(1, rowIndex)" (click)="askDelete($event,tableData)">Borrar</button>
            </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>

    </table>

    <button mat-raised-button id="newPerson" *ngIf="!isLoading" type="button" (click)="edit(null)" [@mouseState]="mouseState[2][0]"
        (mouseenter)="toggleMouseState(2, 0)" (mouseleave)="toggleMouseState(2, 0)">
        Nuevo {{tipoNuevo}}
        <i class="material-icons">
            person_add
        </i>
    </button>

    <mat-paginator *ngIf="!isLoading" [pageSizeOptions]="[rowNumber]" showFirstLastButtons></mat-paginator>

</div>

<p-confirmDialog [closable]="false" header="Confirmation" acceptLabel="Si" rejectLabel="Cancelar" icon="pi pi-exclamation-triangle"
    width="400">